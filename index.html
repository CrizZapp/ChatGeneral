<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat de la Banda üöÄ</title>
    <style>
        body { margin: 0; font-family: sans-serif; background-color: #0b141a; background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); height: 100vh; display: flex; flex-direction: column; color: white; }
        header { background: #202c33; padding: 10px 16px; display: flex; align-items: center; justify-content: space-between; }
        #login-screen { position: fixed; inset: 0; background: #111b21; display: flex; align-items: center; justify-content: center; z-index: 1000; }
        .login-card { background: #202c33; padding: 30px; border-radius: 15px; text-align: center; width: 85%; max-width: 300px; }
        #msgs { flex: 1; overflow-y: auto; padding: 20px 10px; display: flex; flex-direction: column; gap: 8px; }
        .msg { padding: 8px 12px; border-radius: 8px; max-width: 75%; position: relative; word-wrap: break-word; font-size: 15px; }
        .recibido { background: #202c33; align-self: flex-start; }
        .mio { background: #005c4b; align-self: flex-end; }
        .msg b { display: block; font-size: 11px; color: #ffd07a; margin-bottom: 2px; }
        .bot-msg { background: #1c3d5a; border: 1px solid #3498db; align-self: center; text-align: center; border-radius: 10px; color: #3498db; padding: 4px 12px; font-size: 13px; margin: 5px 0; }
        footer { background: #202c33; padding: 10px; display: flex; gap: 8px; }
        #txt { flex: 1; background: #2a3942; border: none; padding: 12px; border-radius: 20px; color: white; outline: none; }
        button { background: #00a884; border: none; color: white; font-weight: bold; cursor: pointer; border-radius: 20px; padding: 10px 15px; }
        #admin-bar { display: none; background: #611; padding: 5px; text-align: center; font-size: 12px; }
    </style>
</head>
<body>

<div id="login-screen">
    <div class="login-card">
        <h3>Bienvenido</h3>
        <input type="text" id="user-input" placeholder="Tu nombre..." style="width:90%; padding:10px; margin-bottom:15px; border-radius:5px; border:none;">
        <br>
        <button onclick="login()">Entrar al Chat</button>
    </div>
</div>

<header>
    <span><b>La Banda üöÄ</b></span>
    <button onclick="beAdmin()" style="background:transparent; font-size:12px; color:#8696a0;">‚öôÔ∏è Admin</button>
</header>

<div id="admin-bar">
    MODO ADMIN <button onclick="clearAll()" style="background:white; color:red; padding:2px 8px; font-size:10px;">Borrar Todo</button>
</div>

<div id="msgs"></div>

<footer>
    <input id="txt" placeholder="Escrib√≠ ac√°..." autocomplete="off">
    <button onclick="mandar()">‚û§</button>
</footer>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, push, onChildAdded, remove } from "
